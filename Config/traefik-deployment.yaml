deployment:
  kind: DaemonSet

service:
  type: LoadBalancer
  ports:
    web:
      port: 80
      exposedPort: 80
      protocol: TCP
      expose:
        default: true
    websecure:
      port: 443
      exposedPort: 443
      protocol: TCP
      expose:
        default: true

logs:
  general:
    level: INFO  # or DEBUG for troubleshooting

providers:
  kubernetesCRD:
    enabled: true
  kubernetesIngress:
    enabled: true

additionalArguments:
  - "--entrypoints.web.http.redirections.entryPoint.to=websecure"
  - "--entrypoints.web.http.redirections.entryPoint.scheme=https"
  - "--log.level=INFO"
  - "--api.insecure=false"
  - "--api.dashboard=true"

resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "512Mi"

# IMPORTANT: Disable Helm's auto-created dashboard IngressRoute
# so your manual traefik-dashboard IngressRoute takes over
ingressRoute:
  dashboard:
    enabled: false   # ‚Üê This prevents conflicts